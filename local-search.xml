<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>9.19</title>
    <link href="/2023/09/18/9.19/"/>
    <url>/2023/09/18/9.19/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><h3 id="1-mysql"><a href="#1-mysql" class="headerlink" title="1.mysql"></a><strong>1.mysql</strong></h3><h4 id="2-登录"><a href="#2-登录" class="headerlink" title="2.登录"></a>2.登录</h4><h5 id="1-登录数据库服务器"><a href="#1-登录数据库服务器" class="headerlink" title="1.登录数据库服务器"></a>1.登录数据库服务器</h5><p>以5.7.9版本为例，一般而言，root密码在log-error文件中</p><figure class="highlight gradle"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs gradle">cat <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span><span class="hljs-regexp">/logs/my</span>sql.err |<span class="hljs-keyword">grep</span> password<br></code></pre></td></tr></table></figure><p><img src="9.19.1.png" alt="9.19.1"></p><p>准备登录</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/mysql -uroot -p -S /</span>tmp/mysql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span>.sock<br></code></pre></td></tr></table></figure><p>./mysql: error while loading shared libraries: libncurses.so.5: cannot open shared object file: No such file or directory</p><p>缺少缺少 libncurses.so.5 这个依赖</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y libncurses*<br></code></pre></td></tr></table></figure><p>再次尝试可以登录了</p><p><img src="9.19.2.png" alt="9.19.2"></p><p><img src="9.19.3.png" alt="9.19.3"></p><p>修改root登录密码</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">set</span> <span class="hljs-keyword">password</span> <span class="hljs-keyword">for</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span>=<span class="hljs-keyword">password</span>(<span class="hljs-string">&#x27;123456&#x27;</span>);<br></code></pre></td></tr></table></figure><p>开启远程登录权限</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">use</span> mysql<br></code></pre></td></tr></table></figure><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">update</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> host = <span class="hljs-string">&#x27;%&#x27;</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">user</span>=<span class="hljs-string">&#x27;root&#x27;</span>;<br></code></pre></td></tr></table></figure><p>通配符%指定所有 ip 都能访问，</p><p><img src="9.19.4.png" alt="9.19.4"></p><p>建议软连接</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">ln -s <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span><span class="hljs-regexp">/bin/my</span>sql <span class="hljs-regexp">/usr/</span>local/mysql<br></code></pre></td></tr></table></figure><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir">export <span class="hljs-title class_">PATH</span>=<span class="hljs-variable">$PATH</span><span class="hljs-symbol">:/usr/local/mysql/mysql-</span><span class="hljs-number">5.7</span>.<span class="hljs-number">9</span>/bin/<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">mysql</span> -u root -p -S /tmp/mysql-<span class="hljs-number">5</span>.<span class="hljs-number">7</span>.<span class="hljs-number">9</span>.sock<br></code></pre></td></tr></table></figure><p>可以在任意位置以上述代码登录</p><p><img src="9.19.5.png" alt="9.19.5"></p><h4 id="3-常用mysql语句"><a href="#3-常用mysql语句" class="headerlink" title="3.常用mysql语句"></a>3.常用mysql语句</h4><h6 id="1-新建1个账户，使其能在任意远程主机连接"><a href="#1-新建1个账户，使其能在任意远程主机连接" class="headerlink" title="1.新建1个账户，使其能在任意远程主机连接"></a>1.新建1个账户，使其能在任意远程主机连接</h6><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">create use<span class="hljs-string">r&#x27;lin&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span>identified by<span class="hljs-string">&#x27;123456&#x27;</span>;<br></code></pre></td></tr></table></figure><p>查看是否成功</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">select</span> <span class="hljs-keyword">user</span>,host <span class="hljs-keyword">from</span> mysql.<span class="hljs-keyword">user</span>;<br></code></pre></td></tr></table></figure><p><img src="9.19.6.png" alt="9.19.6"></p><p><img src="9.19.7.png" alt="9.19.7"></p><h6 id="2-给用户授权"><a href="#2-给用户授权" class="headerlink" title="2.给用户授权"></a>2.给用户授权</h6><p>以上述创建完用户为例，给他一个查询mybase数据库中message表的权限</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">on</span> mybase.message <span class="hljs-keyword">to</span> &quot;lin&quot;@<span class="hljs-string">&#x27;%&#x27;</span>;<br></code></pre></td></tr></table></figure><p>ERROR 1146 (42S02): Table ‘mybase.message’ doesn’t exist</p><p>创建mybase数据库下的message表,再次尝试</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">show databases<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> mybase;<br></code></pre></td></tr></table></figure><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">use mybase<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sas"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">message</span><br>(<br>……<br>……<br>……<br>）；<br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">on</span> mybase.message <span class="hljs-keyword">to</span> &quot;lin&quot;@<span class="hljs-string">&#x27;%&#x27;</span>;<br></code></pre></td></tr></table></figure><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">show</span> grants <span class="hljs-keyword">for</span> <span class="hljs-string">&#x27;lin&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span>;<br></code></pre></td></tr></table></figure><p>查看是否给与权限</p><p><img src="9.19.8.png" alt="9.19.8"></p><p><img src="9.19.9.png" alt="9.19.9"></p><h6 id="3-增加删减权限"><a href="#3-增加删减权限" class="headerlink" title="3.增加删减权限"></a>3.增加删减权限</h6><p>给lin用户修改和查看视图message表权限</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">grant</span> <span class="hljs-keyword">update</span>,<span class="hljs-keyword">show</span> <span class="hljs-keyword">view</span> <span class="hljs-keyword">on</span> mybase.message <span class="hljs-keyword">to</span> &quot;lin&quot;@<span class="hljs-string">&#x27;%&#x27;</span>;<br></code></pre></td></tr></table></figure><p><img src="9.19.10.png" alt="9.19.10"></p><p>撤销他的修改权限</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">revoke</span> <span class="hljs-keyword">update</span> <span class="hljs-keyword">on</span> mybase.message <span class="hljs-keyword">from</span> &quot;lin&quot;@<span class="hljs-string">&#x27;%&#x27;</span>;<br></code></pre></td></tr></table></figure><p><img src="9.19.11.png" alt="9.19.11"></p><h6 id="4-删除，锁定用户"><a href="#4-删除，锁定用户" class="headerlink" title="4.删除，锁定用户"></a>4.删除，锁定用户</h6><p>删除lin用户</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">drop <span class="hljs-keyword">user</span> <span class="hljs-title">lin</span>@&#x27;%&#x27;;<br></code></pre></td></tr></table></figure><p><img src="9.19.12.png" alt="9.19.12"></p><p>删除一般不常用，常用锁定</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">alter use<span class="hljs-string">r&#x27;lin&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> account lock;<br></code></pre></td></tr></table></figure><p>可通过</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">select</span> <span class="hljs-keyword">user</span>, host, account_locked <span class="hljs-keyword">from</span> mysql.<span class="hljs-keyword">user</span>;<br></code></pre></td></tr></table></figure><p>查看情况</p><p><img src="9.19.13.png" alt="9.19.13"></p><p>解锁则为</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">alter use<span class="hljs-string">r&#x27;lin&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> account unlock;<br></code></pre></td></tr></table></figure><p><img src="9.19.14.png" alt="9.19.14"></p><h5 id><a href="#" class="headerlink" title></a></h5>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>9.18</title>
    <link href="/2023/09/18/9.18/"/>
    <url>/2023/09/18/9.18/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><h3 id="1-nat转发-2个网卡连接到单内网网卡，从而连接"><a href="#1-nat转发-2个网卡连接到单内网网卡，从而连接" class="headerlink" title="1.nat转发 2个网卡连接到单内网网卡，从而连接"></a><strong>1.nat转发 2个网卡连接到单内网网卡，从而连接</strong></h3><h5 id="1-添加一块网卡并开启网卡转发"><a href="#1-添加一块网卡并开启网卡转发" class="headerlink" title="1.添加一块网卡并开启网卡转发"></a>1.添加一块网卡并开启网卡转发</h5><figure class="highlight ebnf"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ifconfig</span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cat <span class="hljs-regexp">/proc/</span>sys<span class="hljs-regexp">/net/i</span>pv4/ip_forward<br></code></pre></td></tr></table></figure><p>确认网卡转发未开启，修改 /etc/sysctl.conf下参数</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">net.ipv4.ip_forward</span>=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>重启服务确认</p><p><img src="9.18.1.png" alt="9.18.1"></p><p><img src="9.18.2.png" alt="9.18.2"></p><p>将另外一个虚拟机的网关改为之前设定好的内网网卡id，并重启服务</p><p><img src="9.18.3.png" alt="9.18.3"></p><p>确认情况，可以ping通网关，但不能ping通外网</p><p><img src="9.18.4.png" alt="9.18.4"></p><h5 id="2-iptables-转发"><a href="#2-iptables-转发" class="headerlink" title="2.iptables 转发"></a>2.iptables 转发</h5><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">iptables -L -t nat</span><br></code></pre></td></tr></table></figure><p>确认规则后</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dns">iptables -t nat -<span class="hljs-keyword">A</span> POSTROUTING -s <span class="hljs-number">192.168.214.100</span> -j MASQUERADE<br></code></pre></td></tr></table></figure><p>即对192.168.214.100该ip进行伪装</p><p><img src="9.18.5.png" alt="9.18.5"></p><p>对第二台机器重新ping百度，可以发现已经成功</p><p><img src="9.18.6.png" alt="9.18.6"></p><p>可以将规则保存在/etc/sysconfig/iptables下</p><h3 id="2-mysql"><a href="#2-mysql" class="headerlink" title="2.mysql"></a><strong>2.mysql</strong></h3><h5 id="1-不同版本安装"><a href="#1-不同版本安装" class="headerlink" title="1.不同版本安装"></a>1.不同版本安装</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget https:<span class="hljs-regexp">//</span>downloads.mysql.com<span class="hljs-regexp">/archives/g</span>et<span class="hljs-regexp">/p/</span><span class="hljs-number">23</span><span class="hljs-regexp">/file/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span>-linux-glibc2.<span class="hljs-number">5</span>-x86_64.tar.gz<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget https:<span class="hljs-regexp">//</span>downloads.mysql.com<span class="hljs-regexp">/archives/g</span>et<span class="hljs-regexp">/p/</span><span class="hljs-number">23</span><span class="hljs-regexp">/file/my</span>sql-<span class="hljs-number">8.0</span>.<span class="hljs-number">33</span>-linux-glibc2.<span class="hljs-number">28</span>-x86_64.tar.gz<br></code></pre></td></tr></table></figure><p><img src="9.18.7.png" alt="9.18.7"></p><p>指定解压到某目录，并重命名</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf  mysql-<span class="hljs-number">8</span>.<span class="hljs-number">0</span>.<span class="hljs-number">33</span>-linux-glibc2.<span class="hljs-number">28</span>-x86_64.tar.gz -C /usr/local/mysql<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zxvf  mysql-<span class="hljs-number">5</span>.<span class="hljs-number">7</span>.<span class="hljs-number">9</span>-linux-glibc2.<span class="hljs-number">5</span>-x86_64.tar.gz -C /usr/local/mysql<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">mv</span> mysql-<span class="hljs-number">5</span>.<span class="hljs-number">7</span>.<span class="hljs-number">9</span>-linux-glibc2.<span class="hljs-number">5</span>-x86_64 mysql-<span class="hljs-number">5</span>.<span class="hljs-number">7</span>.<span class="hljs-number">9</span><br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">mv</span> mysql-<span class="hljs-number">8</span>.<span class="hljs-number">0</span>.<span class="hljs-number">33</span>-linux-glibc2.<span class="hljs-number">28</span>-x86_64 mysql-<span class="hljs-number">8</span>.<span class="hljs-number">0</span>.<span class="hljs-number">33</span><br></code></pre></td></tr></table></figure><p><img src="9.18.8.png" alt="9.18.8"></p><p>配置my.cnf文件</p><p>以8033版本为例</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs gradle">[mysqld]<br>port=<span class="hljs-number">3380</span><br>user=mysql<br>basedir=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">8.0</span>.<span class="hljs-number">33</span><br>data=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sq8033/data<br>socket=<span class="hljs-regexp">/tmp/my</span>sq8033.sock<br>log-error=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sq8033/mysql.err<br>pid-<span class="hljs-keyword">file</span>=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sq8033/mysql.pid<br>character set server=utf8mb4<br>lower <span class="hljs-keyword">case</span> table names=<span class="hljs-number">1</span><br><br>[mysqld_safe]<br>log-error=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sq8033<span class="hljs-regexp">/logs/my</span>sql.err<br>pid-<span class="hljs-keyword">file</span>=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sq8033/mysql.pid<br>tmpdir=<span class="hljs-regexp">/tmp/my</span>sq8033<br></code></pre></td></tr></table></figure><p>5.7.9同理</p><p>再进行service文件配置</p><p>以8033为例</p><p>进行软链接</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">8.0</span>.<span class="hljs-number">33</span><span class="hljs-regexp">/support-files/my</span>sql.server<br></code></pre></td></tr></table></figure><p><img src="9.18.9.png" alt="9.18.9"></p><p><img src="9.18.10.png" alt="9.18.10"></p><p><img src="9.18.11.png" alt="9.18.11"></p><p>将2个版本的mysql.server复制到/etc/init.d/下</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cp <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span><span class="hljs-regexp">/support-files/my</span>sql.server <span class="hljs-regexp">/etc/i</span>nit.d/mysq579<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cp <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">8.0</span>.<span class="hljs-number">33</span><span class="hljs-regexp">/support-files/my</span>sql.server <span class="hljs-regexp">/etc/i</span>nit.d/mysq8033<br></code></pre></td></tr></table></figure><p><img src="9.18.12.png" alt="9.18.12"></p><p>创建用户并改变所有者</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">groupadd mysql</span><br></code></pre></td></tr></table></figure><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">useradd -r -g mysql mysql</span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">chown -R mysql.mysql <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">chown -R mysql.mysql <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">8.0</span>.<span class="hljs-number">33</span><br></code></pre></td></tr></table></figure><p><img src="9.18.13.png" alt="9.18.13"></p><p>初始化数据库</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/mysqld --defaults-file=/u</span>sr<span class="hljs-regexp">/local/my</span>sql<span class="hljs-regexp">/mysql-5.7.9/my</span>.cnf --basedir=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span> --datadir=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span>/data --user=mysql --initialize<br></code></pre></td></tr></table></figure><p><img src="9.18.14.png" alt="9.18.14"></p><p>ll 确认权限情况，并将data改为mysql属组</p><p>再次初始化数据库</p><p>Starting MySQL. ERROR! The server quit without updating PID file (/usr/local/mysql/mysql-5.7.9/mysql.pid).</p><p>排查发现，因为mysql文件夹里无logs文件夹</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">mkdir logs<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">chown -R mysql.mysql <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span>/log<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">rm -rf <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">5.7</span>.<span class="hljs-number">9</span><span class="hljs-regexp">/data/</span>*<br></code></pre></td></tr></table></figure><p>重复上面代码</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">service</span> mysql-<span class="hljs-number">5</span>.<span class="hljs-number">7</span>.<span class="hljs-number">9</span> start<br></code></pre></td></tr></table></figure><p>8.0.33版本同样以该方法安装</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/mysqld --defaults-file=/u</span>sr<span class="hljs-regexp">/local/my</span>sql<span class="hljs-regexp">/mysql-8.0.33/my</span>.cnf --basedir=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">8.0</span>.<span class="hljs-number">33</span> --datadir=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/mysql/my</span>sql-<span class="hljs-number">8.0</span>.<span class="hljs-number">33</span>/data --user=mysql --initialize<br></code></pre></td></tr></table></figure><p><img src="9.18.15.png" alt="9.18.15"></p><p><img src="9.18.16.png" alt="9.18.16"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>9.15</title>
    <link href="/2023/09/15/9-15/"/>
    <url>/2023/09/15/9-15/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="9-14"><a href="#9-14" class="headerlink" title="9.14"></a>9.14</h1><p><strong><span id="more"></span></strong></p><h2 id="1-搭建1个DNS服务，可解析"><a href="#1-搭建1个DNS服务，可解析" class="headerlink" title="1.搭建1个DNS服务，可解析"></a><strong>1.搭建1个DNS服务，可解析</strong></h2><p><strong>一般使用阿里云（223.5.5.5）或者腾讯（119.29.29.29）公共dns,本次搭建1个dns服务</strong></p><h4 id="1-下载bind和相关工具，查看相关配置文件位置"><a href="#1-下载bind和相关工具，查看相关配置文件位置" class="headerlink" title="1.下载bind和相关工具，查看相关配置文件位置"></a><strong>1.下载bind和相关工具，查看相关配置文件位置</strong></h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs mipsasm">yum <span class="hljs-keyword">install </span>-y <span class="hljs-keyword">bind </span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">rpm -qc <span class="hljs-built_in">bind</span><br></code></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">systemctl <span class="hljs-built_in">enable</span> named<br></code></pre></td></tr></table></figure><p><strong><img src="9.15.1.png" alt="9.15.1"></strong></p><h4 id="2-修改相关配置文件"><a href="#2-修改相关配置文件" class="headerlink" title="2.修改相关配置文件"></a><strong>2.修改相关配置文件</strong></h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>named.conf<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>named.rfc1912.zones<br></code></pre></td></tr></table></figure><p><strong><img src="9.15.3.png" alt="9.15.2"></strong></p><p><strong><img src="9.15.3.png" alt="9.15.3"></strong></p><p><strong>备份并配置区域文件</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cd <span class="hljs-regexp">/var/</span>named<br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">cp</span> named.localhost abclocal.<span class="hljs-keyword">com</span><br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span> abclocal.<span class="hljs-keyword">com</span><br></code></pre></td></tr></table></figure><p><strong>修改完后保存退出</strong></p><p><strong><img src="9.15.4.png" alt="9.15.4"></strong></p><p><strong>修改nameserver再确认</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>resolv.conf<br></code></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">nslookup</span> abclocal.com<br></code></pre></td></tr></table></figure><p><strong>报错：;; connection timed out; no servers could be reached</strong></p><p><strong>检查情况</strong></p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fortran">systemctl <span class="hljs-keyword">status</span> <span class="hljs-keyword">named</span>.service<br></code></pre></td></tr></table></figure><p><strong><img src="9.15.5.png" alt="9.15.5"></strong></p><p><strong>重新修改  /var/named下文件后测试</strong></p><p><strong><img src="9.15.6.png" alt="9.15.6"></strong></p><p><strong>报错servfail</strong></p><p><strong>排查问题</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">named-checkconf</span><br></code></pre></td></tr></table></figure><p><strong>无报错，继续排查</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ll</span><br></code></pre></td></tr></table></figure><p><strong>发现自己配置库文件属组为root</strong></p><p><strong><img src="9.15.7.png" alt="9.15.7"></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chgrp</span> named abclocal.com<br></code></pre></td></tr></table></figure><p><strong><img src="9.15.8.png" alt="9.15.8"></strong></p><p><strong>重启服务再次确认，可以解析服务</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">systemctl restart named</span><br></code></pre></td></tr></table></figure><p><strong><img src="9.15.9.png" alt="9.15.9"></strong></p><h2 id="2-iptables"><a href="#2-iptables" class="headerlink" title="2.iptables"></a><strong>2.iptables</strong></h2><h3 id="1-限制某单个ip访问单个端口-放行ss端口"><a href="#1-限制某单个ip访问单个端口-放行ss端口" class="headerlink" title="1.限制某单个ip访问单个端口 放行ss端口"></a><strong>1.限制某单个ip访问单个端口 放行ss端口</strong></h3><p><strong>iptables是一款数据包过滤和nat管理工具，一般而言有5表5链</strong></p><p><strong>常用命令：</strong><br><strong>-A 追加规则–&gt;iptables -A INPUT</strong><br><strong>-D 删除规则–&gt;iptables -D INPUT 1(编号)</strong><br><strong>-R 修改规则–&gt;iptables -R INPUT 1 -s 192.168.12.0 -j DROP 取代现行规则，顺序不变(1是位置)</strong><br><strong>-I 插入规则–&gt;iptables -I INPUT 1 –dport 80 -j ACCEPT 插入一条规则，原本位置上的规则将会往后移动一个顺位</strong><br><strong>-L 查看规则–&gt;iptables -L INPUT 列出规则链中的所有规则</strong><br><strong>-N 新的规则–&gt;iptables -N allowed 定义新的规则</strong></p><p><strong>通用参数：</strong><br><strong>-p 协议 例：iptables -A INPUT -p tcp</strong><br><strong>-s源地址 例：iptables -A INPUT -s 192.168.1.1</strong><br><strong>-d目的地址 例：iptables -A INPUT -d 192.168.12.1</strong><br><strong>-sport源端口 例:iptables -A INPUT -p tcp –sport 22</strong><br><strong>-dport目的端口 例:iptables -A INPUT -p tcp –dport 22</strong><br><strong>-i指定入口网卡 例:iptables -A INPUT -i eth0</strong><br><strong>-o指定出口网卡 例:iptables -A FORWARD -o eth0</strong><br><strong>-j指定之后动作 如 -j accept -j reject -j drop等</strong></p><h4 id="1-限制ip访问指定端口"><a href="#1-限制ip访问指定端口" class="headerlink" title="1.限制ip访问指定端口"></a><strong>1.限制ip访问指定端口</strong></h4><p><strong>确认当前filter表情况</strong></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">iptables -L</span><br></code></pre></td></tr></table></figure><p><strong>禁止192.168.148.133ip访问1000端口</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">iptables -<span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">INPUT</span> -<span class="hljs-selector-tag">p</span> tcp -s <span class="hljs-number">192.168</span>.<span class="hljs-number">148.133</span> <span class="hljs-attr">--dport</span> <span class="hljs-number">1000</span> -j REJECT<br></code></pre></td></tr></table></figure><p><strong><img src="9.15.10.png" alt="9.15.10"></strong></p><h4 id="2-放行ss端口"><a href="#2-放行ss端口" class="headerlink" title="2.放行ss端口"></a><strong>2.放行ss端口</strong></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">iptables -<span class="hljs-selector-tag">I</span> <span class="hljs-selector-tag">INPUT</span> -<span class="hljs-selector-tag">p</span> tcp -s <span class="hljs-number">192.168</span>.<span class="hljs-number">148.133</span> <span class="hljs-attr">--dport</span> <span class="hljs-number">22</span> -j ACCEPT<br></code></pre></td></tr></table></figure><p><strong><img src="9.15.11.png" alt="9.15.11"></strong></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>9.14</title>
    <link href="/2023/09/14/9.14/"/>
    <url>/2023/09/14/9.14/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><h2 id="1-OSI-7层模型-分别用途协议"><a href="#1-OSI-7层模型-分别用途协议" class="headerlink" title="1.OSI 7层模型 分别用途协议"></a>1.OSI 7层模型 分别用途协议</h2><p>OSI 模型把网络通信的工作分为 7 层，分别是物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。</p><p>物理层:OSI模型最底层，为上层提供一个物理传输载体，以比特流数据传输</p><p>数据链路层：起到2个网络设备互相进行网络通讯功能，负责物理网络寻址（MAC）和纠错</p><p>网络层：用于将接收到的数据段从一台计算机传输到不同网络中的另一台计算机，根据地址决定数据的路径选择</p><p>传输层： 为上层协议提供端到端的可靠和透明的数据传输服务</p><p>会话层：为会话实体间创建连接，提供节点之间通信过程的协调 ，同步数据流</p><p>表示层：提供数据格式、变换和编码转换 </p><p>应用层 ：是计算机用户，以及各种应用程序和网络之间的接口，其功能是直接向用户提供服务，协调各个应用程序之间的工作。</p><p><img src="9.14.1.png" alt="9.14.1"></p><h2 id="2-子网掩码-地址计算"><a href="#2-子网掩码-地址计算" class="headerlink" title="2.子网掩码 地址计算"></a>2.子网掩码 地址计算</h2><p>IP由网络ID和主机ID组成</p><p>网络ID用于标识网络地址</p><p>主机ID用于标识主机</p><p>IP分类：主要用ABC类地址</p><p>网络数：2^可变网络ID数</p><p>主机数：2^主机ID位数-2(去除子网中的第一个表示子网号的IP地址和最后一个表示广播地址的IP地址)</p><h3 id="1-私有网络"><a href="#1-私有网络" class="headerlink" title="1.私有网络"></a>1.私有网络</h3><h4 id="1-A类"><a href="#1-A类" class="headerlink" title="1.A类"></a>1.A类</h4><p>8位网络号+24位主机号组成</p><p>range(1-126),目前保留地址10.0.0.0~10.255.255.255</p><p>127为回环地址</p><p>网络数2^(8-1)</p><p>一个a类网络最多主机数 2^24-2=16777214</p><figure class="highlight apache"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">echo</span> <span class="hljs-number">2</span>^<span class="hljs-number">24</span>-<span class="hljs-number">2</span>|bc<br></code></pre></td></tr></table></figure><h4 id="2-B类"><a href="#2-B类" class="headerlink" title="2.B类"></a>2.B类</h4><p>16位网络号+16位主机号组成</p><p>range(128-191)</p><p>网络数2^(16-2)</p><p>一个B类网络最多主机数 2^16 -2=65534</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">echo</span> <span class="hljs-number">2</span>^<span class="hljs-number">16</span>-<span class="hljs-number">2</span>|bc<br></code></pre></td></tr></table></figure><h4 id="3-C类"><a href="#3-C类" class="headerlink" title="3.C类"></a>3.C类</h4><p>24位网络号+8位主机号</p><p>range（192-223）</p><p>网络数2^(24-3)</p><p>一个C类网络最多主机数 2^8 -2=254</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">echo</span> <span class="hljs-number">2</span>^<span class="hljs-number">8</span>-<span class="hljs-number">2</span>|bc<br></code></pre></td></tr></table></figure><h3 id="2-子网掩码"><a href="#2-子网掩码" class="headerlink" title="2.子网掩码"></a>2.子网掩码</h3><p>CIDR ：IP/网络ID位数</p><p>netmask子网掩码：标识网络ID位数，是32位的二进制，对应于网络ID的位为1，对应于主机ID的为0 （需转成10进制）</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">00000000 </span><span class="hljs-number">0</span><br><span class="hljs-symbol">10000000 </span><span class="hljs-number">128</span><br><span class="hljs-symbol">11000000 </span><span class="hljs-number">192</span><br><span class="hljs-symbol">11100000 </span><span class="hljs-number">224</span><br><span class="hljs-symbol">11110000 </span><span class="hljs-number">240</span><br><span class="hljs-symbol">11111000 </span><span class="hljs-number">248</span><br><span class="hljs-symbol">11111100 </span><span class="hljs-number">252</span><br><span class="hljs-symbol">11111110 </span><span class="hljs-number">254</span><br><span class="hljs-symbol">11111111 </span><span class="hljs-number">255</span><br></code></pre></td></tr></table></figure><p>举例1：以201.224.192.144/23 计算该主机所在网络主机数，子网掩码</p><p>主机数=2^(32-23)-2=510</p><p>子网掩码：11111111.11111111.11111110.00000000</p><p>​                    255.255.254.0</p><p>例2： 192.168.222.200 子网掩码255.255.240.0列出CIDR网络位数，主机数</p><p>CIDR：192.168.222.200/20</p><p>主机数： 2^(32-20)-2=4094</p><h3 id="3-网络ID"><a href="#3-网络ID" class="headerlink" title="3.网络ID"></a>3.网络ID</h3><p>网络ID为IP与子网掩码相与</p><p>与运算</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0</span>与<span class="hljs-number">0</span>=<span class="hljs-number">0</span><br><span class="hljs-attribute">0</span>与<span class="hljs-number">1</span>=<span class="hljs-number">0</span><br><span class="hljs-attribute">1</span>与<span class="hljs-number">0</span>=<span class="hljs-number">0</span><br><span class="hljs-attribute">1</span>与<span class="hljs-number">1</span>=<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>任何数与0都为0，与1保留原值</p><p>例3：以201.224.192.144 子网掩码 255.255.254.0计算网络ID</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs 1c">echo <span class="hljs-string">&quot;obase=2;201&quot;</span> <span class="hljs-string">|bc</span><br>echo <span class="hljs-string">&quot;obase=2;224&quot;</span> <span class="hljs-string">|bc</span><br>echo <span class="hljs-string">&quot;obase=2;192&quot;</span> <span class="hljs-string">|bc</span><br>echo <span class="hljs-string">&quot;obase=2;144&quot;</span> <span class="hljs-string">|bc</span><br></code></pre></td></tr></table></figure><p>11001001.11100000.11000000.10010000</p><p>11111111.11111111.11111110.00000000</p><p>网络ID即为：</p><p>11001001.11100000.11000000.0000000</p><p>转换十进制</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs 1c">echo <span class="hljs-string">&quot;obase=10;ibase=2;11001001&quot;</span> <span class="hljs-string">| bc</span><br>echo <span class="hljs-string">&quot;obase=10;ibase=2;11100000&quot;</span> <span class="hljs-string">| bc</span><br>echo <span class="hljs-string">&quot;obase=10;ibase=2;11000000&quot;</span> <span class="hljs-string">| bc</span><br></code></pre></td></tr></table></figure><p>得到网络ID：201.224.192.0</p><p>广播地址为x.x.x.最大主机数+1</p><h3 id="4-判断是否在同一网段"><a href="#4-判断是否在同一网段" class="headerlink" title="4.判断是否在同一网段"></a>4.判断是否在同一网段</h3><p>以A,B为例</p><p>A：192.168.114.2/23   1110010 .00000001</p><p>B：192.168.115.241/29</p><p>如果A访问B，则</p><p>A与自己子网掩码相与 得到192.168.114.0</p><p>B与A子网掩码相与192.168.114.0</p><p>同一网段</p><p>B访问A，</p><p>则B与自己子网掩码相与，得到192.168.115.240</p><p>A与B子网掩码相与，得到 192.168.114.0</p><p>不在同一网段</p><h2 id="3-网卡绑定-2个配ip"><a href="#3-网卡绑定-2个配ip" class="headerlink" title="3.网卡绑定 2个配ip"></a>3.网卡绑定 2个配ip</h2><h3 id="网卡配2个ip"><a href="#网卡配2个ip" class="headerlink" title="网卡配2个ip"></a>网卡配2个ip</h3><p>添加1个网卡，重启确认运行情况</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">nmcli device</span><br></code></pre></td></tr></table></figure><p><img src="9.14.3.png" alt="9.14.3"></p><p>关闭第一张网卡</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">nmcli <span class="hljs-keyword">c</span> down ens<span class="hljs-number">33</span><br></code></pre></td></tr></table></figure><p>加载模块并确定情况</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">modprobe bonding</span><br></code></pre></td></tr></table></figure><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">modinfo bonding</span><br></code></pre></td></tr></table></figure><p><img src="9.14.4.png" alt="9.14.4"></p><p>创建绑定接口文件ifcfg-bond0</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>sysconfig<span class="hljs-regexp">/network-scripts/i</span>fcfg-bond0<br></code></pre></td></tr></table></figure><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">DEVICE</span>=bond0<br><span class="hljs-attr">TYPE</span>=Bond<br><span class="hljs-attr">NAME</span>=bond0<br><span class="hljs-attr">BONDING_MASTER</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attr">BOOTPROTO</span>=none<br><span class="hljs-attr">ONBOOT</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attr">IPADDR</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">148.131</span><br><span class="hljs-attr">NETMASK</span>=<span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-attr">GATEWAY</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">148.1</span><br><span class="hljs-attr">BONDING_OPTS</span>=<span class="hljs-string">&quot;mode=0 miimon=100&quot;</span><br></code></pre></td></tr></table></figure><p>为测试bond是否成功，本次测试mode0</p><p>修改2个网卡文件</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">TYPE</span>=Ethernet<br><span class="hljs-attr">BOOTPROTO</span>=none<br><span class="hljs-attr">DEVICE</span>=ens37<br><span class="hljs-attr">ONBOOT</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attr">HWADDR</span>=”MAC from the ifconfig command”<br><span class="hljs-attr">MASTER</span>=bond0<br><span class="hljs-attr">SLAVE</span>=<span class="hljs-literal">yes</span><br></code></pre></td></tr></table></figure><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">TYPE</span>=Ethernet<br><span class="hljs-attr">BOOTPROTO</span>=none<br><span class="hljs-attr">DEVICE</span>=ens33<br><span class="hljs-attr">ONBOOT</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attr">HWADDR</span>=”MAC from the ifconfig command”<br><span class="hljs-attr">MASTER</span>=bond0<br><span class="hljs-attr">SLAVE</span>=<span class="hljs-literal">yes</span><br></code></pre></td></tr></table></figure><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">nmcli c reload</span><br></code></pre></td></tr></table></figure><p>再次确认情况</p><p><img src="9.14.5.png" alt="9.14.5"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">nmcli device</span><br></code></pre></td></tr></table></figure><p><img src="9.14.6.png" alt="9.14.6"></p><p>测试端口速度情况</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">ethtool bond0 <span class="hljs-string">|grep Speed</span><br></code></pre></td></tr></table></figure><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">ethtool ens33 <span class="hljs-string">|grep Speed</span><br></code></pre></td></tr></table></figure><p><img src="9.14.7.png" alt="9.14.7"></p><p>测试主从备份是否成功</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cat <span class="hljs-regexp">/proc/</span>net<span class="hljs-regexp">/bonding/</span>bond0<br></code></pre></td></tr></table></figure><p><img src="9.14.8.png" alt="9.14.8"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ifconfig -s</span><br></code></pre></td></tr></table></figure><p>确认端口情况</p><p><img src="9.14.9.png" alt="9.14.9"></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ifconfig</span> down ens33<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cat <span class="hljs-regexp">/proc/</span>net<span class="hljs-regexp">/bonding/</span>bond0<br></code></pre></td></tr></table></figure><p><img src="9.14.10.png" alt="9.14.10"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>9.13</title>
    <link href="/2023/09/13/9.13/"/>
    <url>/2023/09/13/9.13/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><h2 id="1-lvm-lv扩容"><a href="#1-lvm-lv扩容" class="headerlink" title="1.lvm lv扩容"></a>1.lvm lv扩容</h2><p>逻辑卷</p><p>由物理卷-卷组-逻辑卷从前到后</p><ol><li><h3 id="创建1个逻辑卷"><a href="#创建1个逻辑卷" class="headerlink" title="创建1个逻辑卷"></a>创建1个逻辑卷</h3><ol><li><h4 id="新加硬盘分区，创建物理卷和卷组"><a href="#新加硬盘分区，创建物理卷和卷组" class="headerlink" title="新加硬盘分区，创建物理卷和卷组"></a>新加硬盘分区，创建物理卷和卷组</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">lsblk</span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">fdisk <span class="hljs-regexp">/dev/</span>sdc<br></code></pre></td></tr></table></figure><p><img src="9.13.1.png" alt="9.13.1"></p><p>由于是作为逻辑卷，格式选择8e</p><p><img src="9.13.2.png" alt="9.13.2"></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pvcreate <span class="hljs-regexp">/dev/</span>sdc1<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vgcreate mysql <span class="hljs-regexp">/dev/</span>sdc1<br></code></pre></td></tr></table></figure><p><img src="9.13.3.png" alt="9.13.3"></p><h4 id="2-创建逻辑卷-并确认"><a href="#2-创建逻辑卷-并确认" class="headerlink" title="2.创建逻辑卷,并确认"></a>2.创建逻辑卷,并确认</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lvcreate</span> -l <span class="hljs-number">100</span>%free -n mysql mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.4.png" alt="9.13.4"></p></li></ol></li></ol><h4 id="3-格式化，确认情况后自动挂载"><a href="#3-格式化，确认情况后自动挂载" class="headerlink" title="3.格式化，确认情况后自动挂载"></a>3.格式化，确认情况后自动挂载</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkfs.ext4 <span class="hljs-regexp">/dev/my</span>sql/mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.5.png" alt="9.13.5"></p><p><img src="9.13.6.png" alt="9.13.6"></p><h3 id="2-扩展逻辑卷"><a href="#2-扩展逻辑卷" class="headerlink" title="2.扩展逻辑卷"></a>2.扩展逻辑卷</h3><ol><li>新增硬盘剩余空间变成lvm格式并创建物理卷</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pvcreate <span class="hljs-regexp">/dev/</span>sdc2<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pvcreate <span class="hljs-regexp">/dev/</span>sdd1<br></code></pre></td></tr></table></figure><p>​     2.加入卷组          </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vgextend mysql <span class="hljs-regexp">/dev/</span>sdc2<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vgextend mysql <span class="hljs-regexp">/dev/</span>sdd1<br></code></pre></td></tr></table></figure><p><img src="9.13.7.png" alt="9.13.7"></p><p>​    3.扩容10g给逻辑卷</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lvextend</span> -r -L +<span class="hljs-number">10</span>G mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.8.png" alt="9.13.8"></p><h3 id="3-减缩逻辑卷"><a href="#3-减缩逻辑卷" class="headerlink" title="3.减缩逻辑卷"></a>3.减缩逻辑卷</h3><p>1.确认磁盘情况并卸载</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">df</span> -h<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">umount <span class="hljs-regexp">/data/my</span>sql<br></code></pre></td></tr></table></figure><p>2.检查磁盘情况，缩减到5g,重新挂载确认</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">e2fsck -f <span class="hljs-regexp">/data/my</span>sql<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lvreduce</span> -r -L <span class="hljs-number">5</span>G mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.9.png" alt="9.13.9"></p><p><img src="9.13.10.png" alt="9.13.10"></p><h2 id="2-编译-nginx-httpd-源码最新-列出可选参数说明"><a href="#2-编译-nginx-httpd-源码最新-列出可选参数说明" class="headerlink" title="2.编译 nginx httpd 源码最新 列出可选参数说明"></a>2.编译 nginx httpd 源码最新 列出可选参数说明</h2><h3 id="1-编译安装nginx"><a href="#1-编译安装nginx" class="headerlink" title="1.编译安装nginx"></a>1.编译安装nginx</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget http:<span class="hljs-regexp">//</span>nginx.org<span class="hljs-regexp">/download/</span>nginx-<span class="hljs-number">1.25</span>.<span class="hljs-number">2</span>.tar.gz<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zvxf nginx-<span class="hljs-number">1</span>.<span class="hljs-number">25</span>.<span class="hljs-number">2</span> tar.gz<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/configure --prefix=/u</span>sr<span class="hljs-regexp">/local/</span>nginx<br></code></pre></td></tr></table></figure><p>报错：C compiler cc is not found</p><p>GCC以及相关未安装</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> gcc<br></code></pre></td></tr></table></figure><p>再次尝试</p><p>error :the HTTP rewrite module requires the PCRE library</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> pcre-devel<br></code></pre></td></tr></table></figure><p>error :the HTTP gzip module requires the zlib library</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> zlib-devel<br></code></pre></td></tr></table></figure><p>无报错</p><p><img src="9.13.11.png" alt="9.13.11"></p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-built_in">make</span> &amp;&amp; <span class="hljs-built_in">make</span> install<br></code></pre></td></tr></table></figure><p>检查是否正确安装并启动</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/nginx/</span>sbin/nginx -t<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/nginx/</span>sbin/nginx <br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> nginx <br></code></pre></td></tr></table></figure><p><img src="9.13.12.png" alt="9.13.12"></p><p><img src="9.13.13.png" alt="9.13.13"></p><h3 id="2-编译安装httpd"><a href="#2-编译安装httpd" class="headerlink" title="2.编译安装httpd"></a>2.编译安装httpd</h3><p>1下载并解压</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget https:<span class="hljs-regexp">//</span>dlcdn.apache.org<span class="hljs-regexp">/httpd/</span>httpd-<span class="hljs-number">2.4</span>.<span class="hljs-number">57</span>.tar.gz -P <span class="hljs-regexp">/usr/</span>local/src<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> xf httpd-<span class="hljs-number">2</span>.<span class="hljs-number">4</span>.<span class="hljs-number">57</span>.tar.gz<br></code></pre></td></tr></table></figure><p><img src="9.13.14.png" alt="9.13.14"></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/configure --prefix=/u</span>sr<span class="hljs-regexp">/local/</span>apache<br></code></pre></td></tr></table></figure><p>error:APR not Found</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y apr-devel<br></code></pre></td></tr></table></figure><p>error:APR-util not Found</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y apr-util-devel<br></code></pre></td></tr></table></figure><p>没有报错</p><p><img src="9.13.15.png" alt="9.13.15"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">make</span><br></code></pre></td></tr></table></figure><p>gcc:fetal error : /usr/lib/rpm/redhat/redhat-hardened-ld</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">yum provides <span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/rpm/</span>redhat/redhat-hardened-ld<br></code></pre></td></tr></table></figure><p>缺少redhat-rpm-config</p><p>yum安装失败，尝试dnf安装可行</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-built_in">make</span> &amp;&amp; <span class="hljs-built_in">make</span> install<br></code></pre></td></tr></table></figure><p><img src="9.13.16.png" alt="9.13.16"></p><p>启动确认</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/apache/</span>bin/apachectl start<br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> httpd<br></code></pre></td></tr></table></figure><p><img src="9.13.17.png" alt="9.13.17"></p><p><img src="9.13.18.png" alt="9.13.18"></p><h3 id="3-列出可选参数说明"><a href="#3-列出可选参数说明" class="headerlink" title="3.列出可选参数说明"></a>3.列出可选参数说明</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./configure --<span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><p><img src="9.13.19.png" alt="9.13.19"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>9.11-9.15</title>
    <link href="/2023/09/12/9-11-9-15/"/>
    <url>/2023/09/12/9-11-9-15/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><p>1.如何只取出ip地址；若有2个如何取出；若有内外网ip，如何单纯取出内网ip</p><p>如何只取出ip地址</p><figure class="highlight nginx"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ifconfig</span> | grep <span class="hljs-string">&#x27;inet&#x27;</span> |head -n1 |awk <span class="hljs-string">&#x27;&#123;print<span class="hljs-variable">$2</span>&#125;&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="9.11.1.png" alt="9.11.1"></p><p>若有2个如何取出</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">ifconfig | <span class="hljs-keyword">grep</span> <span class="hljs-string">&#x27;inet&#x27;</span> |<span class="hljs-keyword">grep</span> <span class="hljs-string">&#x27;broadcast&#x27;</span> |head -n2 |awk <span class="hljs-string">&#x27;&#123;print$2&#125;&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="9.11.2.png" alt="9.11.2"></p><p>若有内外网ip，如何单纯取出内网ip</p><p>内网ip</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">hostname -<span class="hljs-selector-tag">I</span><br></code></pre></td></tr></table></figure><p><img src="9.11.3.png" alt="9.11.3"></p><p>外网ip</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos">curl myip.ipip.<span class="hljs-built_in">net</span><br></code></pre></td></tr></table></figure><p><img src="9.11.4.png" alt="9.11.4"></p><p>2.虚拟机增加1块10g盘， 挂在到date目录 格式化xfs</p><ol><li>虚拟机新加10g盘</li></ol><p><img src="9.11.5.png" alt="9.11.5"></p><p>   2.添加data目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /data<br></code></pre></td></tr></table></figure><p><img src="9.11.6.png" alt="9.11.6"></p><p> 3.新建分区，格式化为xfs格式，挂载在data目录</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">ll <span class="hljs-regexp">/dev/</span>sd*<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">fdisk <span class="hljs-regexp">/dev/</span>sdb<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkfs.xfs <span class="hljs-regexp">/dev/</span>sdb -f<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">自动挂载用vim <span class="hljs-regexp">/etc/</span>fstab 选择/data目录 xfs格式 fs_freq（<span class="hljs-number">0</span>不备份 <span class="hljs-number">1</span>备份）和fs_passno（<span class="hljs-number">0</span>不检验 <span class="hljs-number">1</span>检验）<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">df</span> -h<br></code></pre></td></tr></table></figure><p>重启后即可发现挂载已经生效</p><p><img src="9.11.7.png" alt="9.11.7"></p><p><img src="9.11.8.png" alt="9.11.8"></p><p><img src="9.11.9.png" alt="9.11.9"></p><p><img src="9.11.10.png" alt="9.11.10"></p><p>3.swap 增加10g虚拟盘 挂在到该分区</p><ol><li><p>创建1个10g文件并格式化</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /swap<br></code></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">dd <span class="hljs-attribute">if</span>=/dev/zero <span class="hljs-attribute">of</span>=/swap/swapfile <span class="hljs-attribute">bs</span>=1G <span class="hljs-attribute">count</span>=10<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkswap <span class="hljs-regexp">/swap/</span>swapfile<br></code></pre></td></tr></table></figure></li></ol><p><img src="9.11.11.png" alt="9.11.11"></p><p>​    2.启动文件，自动挂载</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">swapon <span class="hljs-regexp">/swap/</span>swapfile<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>fstab 增加一行<span class="hljs-regexp">/swap/</span>swapfile swap swap dafaults <span class="hljs-number">00</span><br></code></pre></td></tr></table></figure><p>​    3.重启并确认情况</p><p><img src="9.11.12.png" alt="9.11.12"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>第3周</title>
    <link href="/2023/07/24/%E7%AC%AC3%E5%91%A8/"/>
    <url>/2023/07/24/%E7%AC%AC3%E5%91%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><ol><li>yum私有仓库的实现及博客输出</li></ol><figure class="highlight stylus"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-id">#yum</span> -y install httpd<br><span class="hljs-selector-id">#systemctl</span> enable <span class="hljs-attr">--now</span> httpd<br><span class="hljs-selector-id">#dnf</span> reposync <span class="hljs-attr">--repoid</span>=epel <span class="hljs-attr">--download-metadata</span> -<span class="hljs-selector-tag">p</span> /var/www/<span class="hljs-selector-tag">html</span><br><br></code></pre></td></tr></table></figure><p><img src="3.1.png" alt="3.1"></p><p><img src="3.2.png" alt="3.2"></p><p>3.画图 TCP协议和三次握手及四次挥手</p><p>TCP三次握手</p><p><img src="3.3.png" alt="3.3"></p><p>TCP四次挥手</p><p><img src="3.4.png" alt="3.4"></p><p>4.静态配置网卡IP，centos/ubuntu实现</p><p><img src="3.5.png" alt="3.5"></p><p><img src="3.6.png" alt="3.6"></p><p><img src="3.7.png" alt="3.7"></p><ol start="5"><li>实现免密登陆脚本, expect登陆远程主机，将生成的密钥写入到目标主机, expect测试远程登陆。<br>1）通过shift读取脚本参数<br>2）通过select来选择功能.例如功能有</li></ol><ul><li>安装mysql</li><li>安装apache</li><li>免密钥登陆主机<br>当前我们只实现免密钥登陆主机<br>3）通过函数封装每个功能<br>4）将免密钥登陆的过程可以重复进行, while 循环实现重复，需要有退出过程。当用户输入exit时，退出免密钥功能。<br>5）支持输入一批主机免密钥，使用数组 实现</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section">#!/bin/bash</span><br><span class="hljs-section">#</span><br><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**<span class="hljs-emphasis">*</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Author:      Mistypic</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Date:    2023-07-24</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#FileName:  2.sh</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Description:        </span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Copyright (C):    2023 All rights reserved</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#*</span>**</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span><br>menu() &#123;<br>while true;do<br><span class="hljs-code">    PS3=&quot;请选择（1-3）&quot;</span><br><span class="hljs-code">    select Menu in 安装mysql 安装apache 免密钥登陆主机 </span><br><span class="hljs-code">        case $REPLY in</span><br><span class="hljs-code">            1)</span><br><span class="hljs-code">                install_mysql</span><br><span class="hljs-code">                break</span><br><span class="hljs-code">                ;;</span><br><span class="hljs-code">            2)</span><br><span class="hljs-code">                install_apache</span><br><span class="hljs-code">                break</span><br><span class="hljs-code">                ;;</span><br><span class="hljs-code">            3)</span><br><span class="hljs-code">                ssh_host</span><br><span class="hljs-code">                break</span><br><span class="hljs-code">                ;;</span><br><span class="hljs-code">     esac</span><br><span class="hljs-code">     done </span><br><span class="hljs-code">done</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code"></span><br><span class="hljs-code">                  </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>第2周</title>
    <link href="/2023/07/09/%E7%AC%AC2%E5%91%A8/"/>
    <url>/2023/07/09/%E7%AC%AC2%E5%91%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="第2周作业"><a href="#第2周作业" class="headerlink" title="第2周作业"></a>第2周作业</h1><span id="more"></span><ol><li>运行脚本可以显示出本机的ip地址</li><li>如果ip地址中有3这个数字，那么就打印出当前的系统时间</li><li>如果ip地址中不含3这个数字，就批量建立用户magedu_00, magedu_01, … magedu_100并且所有用户同属于magedu组</li><li>打印出/etc/passwd这个文件中可以登陆的用户（非/usr/sbin/nologin）</li><li>yum安装nginx服务，并且启动该服务</li><li>一个脚本完成”</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section">#!/bin/bash</span><br><span class="hljs-section">#</span><br><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**<span class="hljs-emphasis">*</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Author:      Mistypic</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Date:    2023-07-09</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#FileName:  2.sh</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Description:        </span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Copyright (C):    2023 All rights reserved</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#*</span>**</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span><br><br><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span>1.运行脚本显示本机ip地址<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-emphasis">* </span></span><br><span class="hljs-emphasis"><span class="hljs-section">IP=$(ifconfig |grep &#x27;inet&#x27; |sed -n &#x27;1p&#x27;)</span></span><br><span class="hljs-emphasis"><span class="hljs-section">echo  $IP</span></span><br><span class="hljs-emphasis"><span class="hljs-section"></span></span><br><span class="hljs-emphasis"><span class="hljs-section"></span></span><br><span class="hljs-emphasis"><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span>2.判断ip中是否有3这个数字<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span></span><br><span class="hljs-emphasis"><span class="hljs-section">if [[$IP =~ &#x27;3&#x27; ]];then</span></span><br><span class="hljs-emphasis"><span class="hljs-section">    echo $(date +%F+%X)</span></span><br><span class="hljs-emphasis"><span class="hljs-section">else</span></span><br><span class="hljs-emphasis"><span class="hljs-section">     groupadd magedu </span></span><br><span class="hljs-emphasis"><span class="hljs-section">     for i in &#123;1..100&#125;;do</span></span><br><span class="hljs-emphasis"><span class="hljs-section">         useradd magedu_$i -g magedu</span></span><br><span class="hljs-emphasis"><span class="hljs-section">     done</span></span><br><span class="hljs-emphasis"><span class="hljs-section">fi</span></span><br><span class="hljs-emphasis"><span class="hljs-section"></span></span><br><span class="hljs-emphasis"><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>3.打印/etc/passwd中可以登录用户,非/usr/sbin/nologin<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**</span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section">echo &quot;可以登录用户：&quot;</span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section">cat /etc/passwd | grep -v /sbin &amp;&amp; cat /etc/passwd |grep -v /nologin</span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section"></span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section">#**</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>*</span>4.yum安装nginx服务并启动<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span><br>echo &quot;安装nginx&quot;<br>yum install -y nginx <br><br>echo &quot;启动服务&quot;<br>systemctl start nginx <br><br></code></pre></td></tr></table></figure> <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2879044695&auto=1&height=90"></iframe>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>第一周</title>
    <link href="/2023/07/02/%E7%AC%AC%E4%B8%80%E5%91%A8/"/>
    <url>/2023/07/02/%E7%AC%AC%E4%B8%80%E5%91%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id><a href="#" class="headerlink" title></a></h1><span id="more"></span><ol><li><p>图文并茂解释开源许可证 GPL、BSD、MIT、Mozilla、Apache和LGPL的区别？</p><p><img src="1.1.png" alt="1.1"></p></li></ol><p>2.安装各发行版系统的安装(centos, rockylinux, ubuntu, 等)（以rockylinux）</p><p><img src="2.01.png" alt="2.01"></p><p><img src="2.02.png" alt="2.02"></p><p><img src="2.03.png" alt="2.03"></p><p><img src="2.1.png" alt="2.1"></p><p><img src="2.2.png" alt="2.2"></p><p><img src="2.3.png" alt="2.3"></p><p><img src="2.4.png" alt="2.4"></p><p><img src="2.5.png" alt="2.5"></p><p><img src="2.6.png" alt="2.6"></p><p><img src="2.7.png" alt="2.7"></p><p><img src="2.8.png" alt="2.8"></p><p><img src="2.9.png" alt="2.9"></p><ol start="3"><li>Linux中总结，1）如何通过一个简短的关键字 【man -k man -k process 】，例如process 获取相关的命令。2）通过命令的描述，选择一个命令，获取命令的man文档。【 man top】 3）解读man文档，man分几个部分？man每个部分的解释，特别是语法部分。&lt;&gt;, [] …等各代表什么含义。4）根据语法部分 简要的写几个操作。</li></ol><p>1）如何通过一个简短的关键字， 获取相关的命令。（man -k echo）</p><p><img src="3.1.png" alt="3.1"></p><p>2）通过命令的描述，选择一个命令，获取命令的man文档。(man echo)</p><p><img src="3.2.png" alt="3.2"></p><p> 3）解读man文档，man分几个部分？man每个部分的解释，特别是语法部分。&lt;&gt;, [] …等各代表什么含义。</p><p>分为13个部分：</p><p>NAME：名字</p><p>SYNOPSIS:语法格式</p><p>DESCRIPTION:详情</p><p>EXAMPLES：举例</p><p>OVERVIEW:概述</p><p>DEFAULTS:默认</p><p>OPTIONS:选择</p><p>EXIT STATUS:退出状态</p><p>ENVIRONMENT:环境</p><p>FILES:文件</p><p>SEE ALSO: 另请参阅</p><p>HISTORY:历史</p><p>BUGS：问题反馈</p><p>&lt; &gt;：必选内容</p><p>[ ]  ：可选内容</p><p>…   ：同一内容，可以多次出现</p><p>4）根据语法部分 简要的写几个操作。</p><p><img src="3.4.png" alt="3.4"></p><ol start="4"><li><p>切换到/etc/目录，列出fstab文件的详细信息，详细解决fstab一行，每个或每几个字符的详细含义。</p><p><img src="4.1.png" alt="4.1"></p></li></ol><p> -：文件类型</p><p>rw-:属主的权限</p><p>r–:属组的权限</p><p>r–. :其他人权限</p><p>-rw-r–r–. :登录该系统的root用户有读取，写入的权限，root组的成员有读取权限，其他不属于root组的用户 只有读取权限</p><p>1 ：链接</p><p>root：属主</p><p>root：属组</p><p>655：大小</p><p>JUN 7 11:06:修改时间</p><p>/etc/fstab:文件位置</p><ol start="5"><li><p>简要说明FHS结构。</p><p>FHS结构类似于Windows操作系统中c盘的文件目录，FHS采用树形结构组织文件。FHS定义了系统中每个区域的用途、所需要的最小构成的文件和目录，同时还给出了例外处理与矛盾处理。</p><p>FHS定义了两层规范，第一层是， / 下面的各个目录应该要放什么文件数据，例如/etc应该要放置设置文件，/bin与/sbin则应该要放置可执行文件等等。</p><p>第二层则是针对/usr及/var这两个目录的子目录来定义等。</p></li></ol><p><img src="5.1.png" alt="5.1"></p><ol start="6"><li><p>用自己的理解总结 文件管理，用户管理，组用户，权限管理相关的命令。</p><p>文件管理：</p><p>pwd：显示当前目录</p><p>cat :查看内容</p><p>touch：修改文件的时间属性</p><p>用户管理：</p><p>useradd: 添加新用户</p><p>passwd：设置密码</p><p>id:显示用户id和所属群组id</p><p>su ：变成其他使用者</p><p>组用户：</p><p>groupadd：创建新组</p><p>groupdel：删除组</p><p>权限管理</p><p>chmod:修改目录或文件权限</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2879044695&auto=1&height=90"></iframe></li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>晕了</title>
    <link href="/2023/06/27/%E6%99%95%E4%BA%86/"/>
    <url>/2023/06/27/%E6%99%95%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><p>研究了半天，结果阿里云还是登不上去，只能考虑单纯推送github</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2879044695&auto=0&height=90"></iframe>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
