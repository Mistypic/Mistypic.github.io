<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>9月13</title>
    <link href="/2023/09/13/9%E6%9C%8813/"/>
    <url>/2023/09/13/9%E6%9C%8813/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><h2 id="1-lvm-lv扩容"><a href="#1-lvm-lv扩容" class="headerlink" title="1.lvm lv扩容"></a>1.lvm lv扩容</h2><p>逻辑卷</p><p>由物理卷-卷组-逻辑卷从前到后</p><ol><li><h3 id="创建1个逻辑卷"><a href="#创建1个逻辑卷" class="headerlink" title="创建1个逻辑卷"></a>创建1个逻辑卷</h3><ol><li><h4 id="新加硬盘分区，创建物理卷和卷组"><a href="#新加硬盘分区，创建物理卷和卷组" class="headerlink" title="新加硬盘分区，创建物理卷和卷组"></a>新加硬盘分区，创建物理卷和卷组</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">lsblk</span><br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">fdisk <span class="hljs-regexp">/dev/</span>sdc<br></code></pre></td></tr></table></figure><p><img src="9.13.1.png" alt="9.13.1"></p><p>由于是作为逻辑卷，格式选择8e</p><p><img src="9.13.2.png" alt="9.13.2"></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pvcreate <span class="hljs-regexp">/dev/</span>sdc1<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vgcreate mysql <span class="hljs-regexp">/dev/</span>sdc1<br></code></pre></td></tr></table></figure><p><img src="9.13.3.png" alt="9.13.3"></p><h4 id="2-创建逻辑卷-并确认"><a href="#2-创建逻辑卷-并确认" class="headerlink" title="2.创建逻辑卷,并确认"></a>2.创建逻辑卷,并确认</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lvcreate</span> -l <span class="hljs-number">100</span>%free -n mysql mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.4.png" alt="9.13.4"></p></li></ol></li></ol><h4 id="3-格式化，确认情况后自动挂载"><a href="#3-格式化，确认情况后自动挂载" class="headerlink" title="3.格式化，确认情况后自动挂载"></a>3.格式化，确认情况后自动挂载</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkfs.ext4 <span class="hljs-regexp">/dev/my</span>sql/mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.5.png" alt="9.13.5"></p><p>![9.13.6]9.13.6.png)</p><h3 id="2-扩展逻辑卷"><a href="#2-扩展逻辑卷" class="headerlink" title="2.扩展逻辑卷"></a>2.扩展逻辑卷</h3><ol><li>新增硬盘剩余空间变成lvm格式并创建物理卷</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pvcreate <span class="hljs-regexp">/dev/</span>sdc2<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">pvcreate <span class="hljs-regexp">/dev/</span>sdd1<br></code></pre></td></tr></table></figure><p>​     2.加入卷组          </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vgextend mysql <span class="hljs-regexp">/dev/</span>sdc2<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vgextend mysql <span class="hljs-regexp">/dev/</span>sdd1<br></code></pre></td></tr></table></figure><p><img src="9.13.7.png" alt="9.13.7"></p><p>​    3.扩容10g给逻辑卷</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lvextend</span> -r -L +<span class="hljs-number">10</span>G mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.8.png" alt="9.13.8"></p><h3 id="3-减缩逻辑卷"><a href="#3-减缩逻辑卷" class="headerlink" title="3.减缩逻辑卷"></a>3.减缩逻辑卷</h3><p>1.确认磁盘情况并卸载</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">df</span> -h<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">umount <span class="hljs-regexp">/data/my</span>sql<br></code></pre></td></tr></table></figure><p>2.检查磁盘情况，缩减到5g,重新挂载确认</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">e2fsck -f <span class="hljs-regexp">/data/my</span>sql<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">lvreduce</span> -r -L <span class="hljs-number">5</span>G mysql<br></code></pre></td></tr></table></figure><p><img src="9.13.9.png" alt="9.13.9"></p><p><img src="9.13.10.png" alt="9.13.10"></p><h2 id="2-编译-nginx-httpd-源码最新-列出可选参数说明"><a href="#2-编译-nginx-httpd-源码最新-列出可选参数说明" class="headerlink" title="2.编译 nginx httpd 源码最新 列出可选参数说明"></a>2.编译 nginx httpd 源码最新 列出可选参数说明</h2><h3 id="1-编译安装nginx"><a href="#1-编译安装nginx" class="headerlink" title="1.编译安装nginx"></a>1.编译安装nginx</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget http:<span class="hljs-regexp">//</span>nginx.org<span class="hljs-regexp">/download/</span>nginx-<span class="hljs-number">1.25</span>.<span class="hljs-number">2</span>.tar.gz<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> -zvxf nginx-<span class="hljs-number">1</span>.<span class="hljs-number">25</span>.<span class="hljs-number">2</span> tar.gz<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/configure --prefix=/u</span>sr<span class="hljs-regexp">/local/</span>nginx<br></code></pre></td></tr></table></figure><p>报错：C compiler cc is not found</p><p>GCC以及相关未安装</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> gcc<br></code></pre></td></tr></table></figure><p>再次尝试</p><p>error :the HTTP rewrite module requires the PCRE library</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> pcre-devel<br></code></pre></td></tr></table></figure><p>error :the HTTP gzip module requires the zlib library</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> zlib-devel<br></code></pre></td></tr></table></figure><p>无报错</p><p><img src="9.13.11.png" alt="9.13.11"></p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-built_in">make</span> &amp;&amp; <span class="hljs-built_in">make</span> install<br></code></pre></td></tr></table></figure><p>检查是否正确安装并启动</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/nginx/</span>sbin/nginx -t<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/nginx/</span>sbin/nginx <br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> nginx <br></code></pre></td></tr></table></figure><p><img src="9.13.12.png" alt="9.13.12"></p><p><img src="9.13.13.png" alt="9.13.13"></p><h3 id="2-编译安装httpd"><a href="#2-编译安装httpd" class="headerlink" title="2.编译安装httpd"></a>2.编译安装httpd</h3><p>1下载并解压</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget https:<span class="hljs-regexp">//</span>dlcdn.apache.org<span class="hljs-regexp">/httpd/</span>httpd-<span class="hljs-number">2.4</span>.<span class="hljs-number">57</span>.tar.gz -P <span class="hljs-regexp">/usr/</span>local/src<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tar</span> xf httpd-<span class="hljs-number">2</span>.<span class="hljs-number">4</span>.<span class="hljs-number">57</span>.tar.gz<br></code></pre></td></tr></table></figure><p><img src="9.13.14.png" alt="9.13.14"></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">.<span class="hljs-regexp">/configure --prefix=/u</span>sr<span class="hljs-regexp">/local/</span>apache<br></code></pre></td></tr></table></figure><p>error:APR not Found</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y apr-devel<br></code></pre></td></tr></table></figure><p>error:APR-util not Found</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">yum <span class="hljs-keyword">install</span> -y apr-util-devel<br></code></pre></td></tr></table></figure><p>没有报错</p><p><img src="9.13.15.png" alt="9.13.15"></p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">make</span><br></code></pre></td></tr></table></figure><p>gcc:fetal error : /usr/lib/rpm/redhat/redhat-hardened-ld</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">yum provides <span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/rpm/</span>redhat/redhat-hardened-ld<br></code></pre></td></tr></table></figure><p>缺少redhat-rpm-config</p><p>yum安装失败，尝试dnf安装可行</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-built_in">make</span> &amp;&amp;<span class="hljs-built_in">make</span> install<br></code></pre></td></tr></table></figure><p><img src="9.13.16.png" alt="9.13.16"></p><p>启动确认</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/apache/</span>bin/apachectl start<br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef | <span class="hljs-keyword">grep</span> httpd<br></code></pre></td></tr></table></figure><p><img src="9.13.17.png" alt="9.13.17"></p><p><img src="9.13.18.png" alt="9.13.18"></p><h3 id="3-列出可选参数说明"><a href="#3-列出可选参数说明" class="headerlink" title="3.列出可选参数说明"></a>3.列出可选参数说明</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./configure --<span class="hljs-built_in">help</span><br></code></pre></td></tr></table></figure><p><img src="9.13.19.png" alt="9.13.19"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>9.11-9.15</title>
    <link href="/2023/09/12/9-11-9-15/"/>
    <url>/2023/09/12/9-11-9-15/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><p>1.如何只取出ip地址；若有2个如何取出；若有内外网ip，如何单纯取出内网ip</p><p>如何只取出ip地址</p><figure class="highlight nginx"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ifconfig</span> | grep <span class="hljs-string">&#x27;inet&#x27;</span> |head -n1 |awk <span class="hljs-string">&#x27;&#123;print<span class="hljs-variable">$2</span>&#125;&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="9.11.1.png" alt="9.11.1"></p><p>若有2个如何取出</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">ifconfig | <span class="hljs-keyword">grep</span> <span class="hljs-string">&#x27;inet&#x27;</span> |<span class="hljs-keyword">grep</span> <span class="hljs-string">&#x27;broadcast&#x27;</span> |head -n2 |awk <span class="hljs-string">&#x27;&#123;print$2&#125;&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="9.11.2.png" alt="9.11.2"></p><p>若有内外网ip，如何单纯取出内网ip</p><p>内网ip</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">hostname -<span class="hljs-selector-tag">I</span><br></code></pre></td></tr></table></figure><p><img src="9.11.3.png" alt="9.11.3"></p><p>外网ip</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos">curl myip.ipip.<span class="hljs-built_in">net</span><br></code></pre></td></tr></table></figure><p><img src="9.11.4.png" alt="9.11.4"></p><p>2.虚拟机增加1块10g盘， 挂在到date目录 格式化xfs</p><ol><li>虚拟机新加10g盘</li></ol><p><img src="9.11.5.png" alt="9.11.5"></p><p>   2.添加data目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /data<br></code></pre></td></tr></table></figure><p><img src="9.11.6.png" alt="9.11.6"></p><p> 3.新建分区，格式化为xfs格式，挂载在data目录</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">ll <span class="hljs-regexp">/dev/</span>sd*<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">fdisk <span class="hljs-regexp">/dev/</span>sdb<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkfs.xfs <span class="hljs-regexp">/dev/</span>sdb -f<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">自动挂载用vim <span class="hljs-regexp">/etc/</span>fstab 选择/data目录 xfs格式 fs_freq（<span class="hljs-number">0</span>不备份 <span class="hljs-number">1</span>备份）和fs_passno（<span class="hljs-number">0</span>不检验 <span class="hljs-number">1</span>检验）<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">df</span> -h<br></code></pre></td></tr></table></figure><p>重启后即可发现挂载已经生效</p><p><img src="9.11.7.png" alt="9.11.7"></p><p><img src="9.11.8.png" alt="9.11.8"></p><p><img src="9.11.9.png" alt="9.11.9"></p><p><img src="9.11.10.png" alt="9.11.10"></p><p>3.swap 增加10g虚拟盘 挂在到该分区</p><ol><li><p>创建1个10g文件并格式化</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> /swap<br></code></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">dd <span class="hljs-attribute">if</span>=/dev/zero <span class="hljs-attribute">of</span>=/swap/swapfile <span class="hljs-attribute">bs</span>=1G <span class="hljs-attribute">count</span>=10<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkswap <span class="hljs-regexp">/swap/</span>swapfile<br></code></pre></td></tr></table></figure></li></ol><p><img src="9.11.11.png" alt="9.11.11"></p><p>​    2.启动文件，自动挂载</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">swapon <span class="hljs-regexp">/swap/</span>swapfile<br></code></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>fstab 增加一行<span class="hljs-regexp">/swap/</span>swapfile swap swap dafaults <span class="hljs-number">00</span><br></code></pre></td></tr></table></figure><p>​    3.重启并确认情况</p><p><img src="9.11.12.png" alt="9.11.12"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>第3周</title>
    <link href="/2023/07/24/%E7%AC%AC3%E5%91%A8/"/>
    <url>/2023/07/24/%E7%AC%AC3%E5%91%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><ol><li>yum私有仓库的实现及博客输出</li></ol><figure class="highlight stylus"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-id">#yum</span> -y install httpd<br><span class="hljs-selector-id">#systemctl</span> enable <span class="hljs-attr">--now</span> httpd<br><span class="hljs-selector-id">#dnf</span> reposync <span class="hljs-attr">--repoid</span>=epel <span class="hljs-attr">--download-metadata</span> -<span class="hljs-selector-tag">p</span> /var/www/<span class="hljs-selector-tag">html</span><br><br></code></pre></td></tr></table></figure><p><img src="3.1.png" alt="3.1"></p><p><img src="3.2.png" alt="3.2"></p><p>3.画图 TCP协议和三次握手及四次挥手</p><p>TCP三次握手</p><p><img src="3.3.png" alt="3.3"></p><p>TCP四次挥手</p><p><img src="3.4.png" alt="3.4"></p><p>4.静态配置网卡IP，centos/ubuntu实现</p><p><img src="3.5.png" alt="3.5"></p><p><img src="3.6.png" alt="3.6"></p><p><img src="3.7.png" alt="3.7"></p><ol start="5"><li>实现免密登陆脚本, expect登陆远程主机，将生成的密钥写入到目标主机, expect测试远程登陆。<br>1）通过shift读取脚本参数<br>2）通过select来选择功能.例如功能有</li></ol><ul><li>安装mysql</li><li>安装apache</li><li>免密钥登陆主机<br>当前我们只实现免密钥登陆主机<br>3）通过函数封装每个功能<br>4）将免密钥登陆的过程可以重复进行, while 循环实现重复，需要有退出过程。当用户输入exit时，退出免密钥功能。<br>5）支持输入一批主机免密钥，使用数组 实现</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section">#!/bin/bash</span><br><span class="hljs-section">#</span><br><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**<span class="hljs-emphasis">*</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Author:      Mistypic</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Date:    2023-07-24</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#FileName:  2.sh</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Description:        </span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Copyright (C):    2023 All rights reserved</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#*</span>**</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span><br>menu() &#123;<br>while true;do<br><span class="hljs-code">    PS3=&quot;请选择（1-3）&quot;</span><br><span class="hljs-code">    select Menu in 安装mysql 安装apache 免密钥登陆主机 </span><br><span class="hljs-code">        case $REPLY in</span><br><span class="hljs-code">            1)</span><br><span class="hljs-code">                install_mysql</span><br><span class="hljs-code">                break</span><br><span class="hljs-code">                ;;</span><br><span class="hljs-code">            2)</span><br><span class="hljs-code">                install_apache</span><br><span class="hljs-code">                break</span><br><span class="hljs-code">                ;;</span><br><span class="hljs-code">            3)</span><br><span class="hljs-code">                ssh_host</span><br><span class="hljs-code">                break</span><br><span class="hljs-code">                ;;</span><br><span class="hljs-code">     esac</span><br><span class="hljs-code">     done </span><br><span class="hljs-code">done</span><br><span class="hljs-code">&#125;</span><br><span class="hljs-code"></span><br><span class="hljs-code">                  </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>第2周</title>
    <link href="/2023/07/09/%E7%AC%AC2%E5%91%A8/"/>
    <url>/2023/07/09/%E7%AC%AC2%E5%91%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="第2周作业"><a href="#第2周作业" class="headerlink" title="第2周作业"></a>第2周作业</h1><span id="more"></span><ol><li>运行脚本可以显示出本机的ip地址</li><li>如果ip地址中有3这个数字，那么就打印出当前的系统时间</li><li>如果ip地址中不含3这个数字，就批量建立用户magedu_00, magedu_01, … magedu_100并且所有用户同属于magedu组</li><li>打印出/etc/passwd这个文件中可以登陆的用户（非/usr/sbin/nologin）</li><li>yum安装nginx服务，并且启动该服务</li><li>一个脚本完成”</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section">#!/bin/bash</span><br><span class="hljs-section">#</span><br><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**<span class="hljs-emphasis">*</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Author:      Mistypic</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Date:    2023-07-09</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#FileName:  2.sh</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Description:        </span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#Copyright (C):    2023 All rights reserved</span></span></span><br><span class="hljs-emphasis"><span class="hljs-strong"><span class="hljs-section">#*</span>**</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span><br><br><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span>1.运行脚本显示本机ip地址<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-emphasis">* </span></span><br><span class="hljs-emphasis"><span class="hljs-section">IP=$(ifconfig |grep &#x27;inet&#x27; |sed -n &#x27;1p&#x27;)</span></span><br><span class="hljs-emphasis"><span class="hljs-section">echo  $IP</span></span><br><span class="hljs-emphasis"><span class="hljs-section"></span></span><br><span class="hljs-emphasis"><span class="hljs-section"></span></span><br><span class="hljs-emphasis"><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span>2.判断ip中是否有3这个数字<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span></span><br><span class="hljs-emphasis"><span class="hljs-section">if [[$IP =~ &#x27;3&#x27; ]];then</span></span><br><span class="hljs-emphasis"><span class="hljs-section">    echo $(date +%F+%X)</span></span><br><span class="hljs-emphasis"><span class="hljs-section">else</span></span><br><span class="hljs-emphasis"><span class="hljs-section">     groupadd magedu </span></span><br><span class="hljs-emphasis"><span class="hljs-section">     for i in &#123;1..100&#125;;do</span></span><br><span class="hljs-emphasis"><span class="hljs-section">         useradd magedu_$i -g magedu</span></span><br><span class="hljs-emphasis"><span class="hljs-section">     done</span></span><br><span class="hljs-emphasis"><span class="hljs-section">fi</span></span><br><span class="hljs-emphasis"><span class="hljs-section"></span></span><br><span class="hljs-emphasis"><span class="hljs-section">#<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>3.打印/etc/passwd中可以登录用户,非/usr/sbin/nologin<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**</span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section">echo &quot;可以登录用户：&quot;</span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section">cat /etc/passwd | grep -v /sbin &amp;&amp; cat /etc/passwd |grep -v /nologin</span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section"></span></span></span><br><span class="hljs-strong"><span class="hljs-emphasis"><span class="hljs-section">#**</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>*</span>4.yum安装nginx服务并启动<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span></span><br>echo &quot;安装nginx&quot;<br>yum install -y nginx <br><br>echo &quot;启动服务&quot;<br>systemctl start nginx <br><br></code></pre></td></tr></table></figure> <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2879044695&auto=1&height=90"></iframe>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>第一周</title>
    <link href="/2023/07/02/%E7%AC%AC%E4%B8%80%E5%91%A8/"/>
    <url>/2023/07/02/%E7%AC%AC%E4%B8%80%E5%91%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id><a href="#" class="headerlink" title></a></h1><span id="more"></span><ol><li><p>图文并茂解释开源许可证 GPL、BSD、MIT、Mozilla、Apache和LGPL的区别？</p><p><img src="1.1.png" alt="1.1"></p></li></ol><p>2.安装各发行版系统的安装(centos, rockylinux, ubuntu, 等)（以rockylinux）</p><p><img src="2.01.png" alt="2.01"></p><p><img src="2.02.png" alt="2.02"></p><p><img src="2.03.png" alt="2.03"></p><p><img src="2.1.png" alt="2.1"></p><p><img src="2.2.png" alt="2.2"></p><p><img src="2.3.png" alt="2.3"></p><p><img src="2.4.png" alt="2.4"></p><p><img src="2.5.png" alt="2.5"></p><p><img src="2.6.png" alt="2.6"></p><p><img src="2.7.png" alt="2.7"></p><p><img src="2.8.png" alt="2.8"></p><p><img src="2.9.png" alt="2.9"></p><ol start="3"><li>Linux中总结，1）如何通过一个简短的关键字 【man -k man -k process 】，例如process 获取相关的命令。2）通过命令的描述，选择一个命令，获取命令的man文档。【 man top】 3）解读man文档，man分几个部分？man每个部分的解释，特别是语法部分。&lt;&gt;, [] …等各代表什么含义。4）根据语法部分 简要的写几个操作。</li></ol><p>1）如何通过一个简短的关键字， 获取相关的命令。（man -k echo）</p><p><img src="3.1.png" alt="3.1"></p><p>2）通过命令的描述，选择一个命令，获取命令的man文档。(man echo)</p><p><img src="3.2.png" alt="3.2"></p><p> 3）解读man文档，man分几个部分？man每个部分的解释，特别是语法部分。&lt;&gt;, [] …等各代表什么含义。</p><p>分为13个部分：</p><p>NAME：名字</p><p>SYNOPSIS:语法格式</p><p>DESCRIPTION:详情</p><p>EXAMPLES：举例</p><p>OVERVIEW:概述</p><p>DEFAULTS:默认</p><p>OPTIONS:选择</p><p>EXIT STATUS:退出状态</p><p>ENVIRONMENT:环境</p><p>FILES:文件</p><p>SEE ALSO: 另请参阅</p><p>HISTORY:历史</p><p>BUGS：问题反馈</p><p>&lt; &gt;：必选内容</p><p>[ ]  ：可选内容</p><p>…   ：同一内容，可以多次出现</p><p>4）根据语法部分 简要的写几个操作。</p><p><img src="3.4.png" alt="3.4"></p><ol start="4"><li><p>切换到/etc/目录，列出fstab文件的详细信息，详细解决fstab一行，每个或每几个字符的详细含义。</p><p><img src="4.1.png" alt="4.1"></p></li></ol><p> -：文件类型</p><p>rw-:属主的权限</p><p>r–:属组的权限</p><p>r–. :其他人权限</p><p>-rw-r–r–. :登录该系统的root用户有读取，写入的权限，root组的成员有读取权限，其他不属于root组的用户 只有读取权限</p><p>1 ：链接</p><p>root：属主</p><p>root：属组</p><p>655：大小</p><p>JUN 7 11:06:修改时间</p><p>/etc/fstab:文件位置</p><ol start="5"><li><p>简要说明FHS结构。</p><p>FHS结构类似于Windows操作系统中c盘的文件目录，FHS采用树形结构组织文件。FHS定义了系统中每个区域的用途、所需要的最小构成的文件和目录，同时还给出了例外处理与矛盾处理。</p><p>FHS定义了两层规范，第一层是， / 下面的各个目录应该要放什么文件数据，例如/etc应该要放置设置文件，/bin与/sbin则应该要放置可执行文件等等。</p><p>第二层则是针对/usr及/var这两个目录的子目录来定义等。</p></li></ol><p><img src="5.1.png" alt="5.1"></p><ol start="6"><li><p>用自己的理解总结 文件管理，用户管理，组用户，权限管理相关的命令。</p><p>文件管理：</p><p>pwd：显示当前目录</p><p>cat :查看内容</p><p>touch：修改文件的时间属性</p><p>用户管理：</p><p>useradd: 添加新用户</p><p>passwd：设置密码</p><p>id:显示用户id和所属群组id</p><p>su ：变成其他使用者</p><p>组用户：</p><p>groupadd：创建新组</p><p>groupdel：删除组</p><p>权限管理</p><p>chmod:修改目录或文件权限</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2879044695&auto=1&height=90"></iframe></li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>晕了</title>
    <link href="/2023/06/27/%E6%99%95%E4%BA%86/"/>
    <url>/2023/06/27/%E6%99%95%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><span id="more"></span><p>研究了半天，结果阿里云还是登不上去，只能考虑单纯推送github</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="110" src="//music.163.com/outchain/player?type=0&id=2879044695&auto=0&height=90"></iframe>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
